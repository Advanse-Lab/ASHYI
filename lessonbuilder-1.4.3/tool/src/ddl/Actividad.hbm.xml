<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<!-- This file generated by Sakai App Builder -AZ -->
<hibernate-mapping>

   <!-- put your value object in the class name, 
      the table name is optional but you should specify it to avoid collisions -->
   <class name="org.sakaiproject.lessonbuildertool.service.ActividadImpl" table="actividad">

       <cache usage="nonstrict-read-write" />

      <!-- create the primary key id, using native is typically the best way -->

      <id name="idActividad" type="long">
         <generator class="native"/>
      </id>
      
	<property name="idTipo" type="long" not-null="true" />
	<property name="nombre" type="string" length="250" not-null="true" />		
	<property name="nivel_recursividad" type="int" not-null="true" />
	<property name="recurso" type="long" not-null="false" />
	<property name="descripcion" type="string" length="500" not-null="false" />
	<property name="objetivo" type="string" length="250" not-null="true" />
	<property name="tiempo_duracion" type="long" not-null="true" />
	<property name="fecha_inicial" type="date" not-null="false" />
	<property name="fecha_final" type="date" not-null="false" />
	
 	 <list name="caracteristicas" table="caracteristicas_actividad" cascade="all-delete-orphan" >
            <key column="idActividad" />
            <list-index column="orden" /> 
            <many-to-many class="org.sakaiproject.lessonbuildertool.model.Caracteristica" column="idCaracteristica" />
     </list>
        
     <list name="dependencias" table="dependencias_actividad" cascade="all-delete-orphan" >
            <key column="idActividad" />
            <list-index column="orden" /> 
            <many-to-many class="org.sakaiproject.lessonbuildertool.service.ActividadImpl" column="id_Actividad_Dependiente" />
	</list>  
	
	<list name="actividades" table="actividad_tiene_actividad" cascade="all-delete-orphan" >
            <key column="idActividad_Padre" />
            <list-index column="orden" /> 
            <many-to-many class="org.sakaiproject.lessonbuildertool.service.ActividadImpl" column="idActividad_siguienteNivel" />
	</list>
	 
   </class>
</hibernate-mapping>